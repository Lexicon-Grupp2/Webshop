@model Webshop.Viewmodels.UsersViewModel

@{
    ViewData["Title"] = "Manage Users";
}

<div class="container-fluid">

    <h1>Manage Users</h1>

    <h2>Admins:</h2>

    <table class="table table-striped">
        <thead class="thead-light">
            <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Country</th>
                <th>City</th>
                <th>Details</th>
                <th>Edit</th>
                <th>Add role</th>
                <th>Delete</th>
            </tr>
        </thead>
        <tbody>
            @foreach (UserInListViewModel user in Model.Admins)
            {
                <tr>
                    <td>
                        @user.Name
                    </td>
                    <td>
                        @user.Email
                    </td>
                    <td>
                        @user.Country
                    </td>
                    <td>
                        @user.City
                    </td>
                    <td>link details</td>
                    <td><a asp-action="EditUser" asp-route-id="@user.UserId">Edit</a></td>
                    <td><a asp-controller="Role" asp-action="RemoveAdminRole" asp-route-id="@user.UserId">Remove Admin role</a></td>
                    <td>link delete</td>
                </tr>
            }
        </tbody>
    </table>

    <h2>Customers</h2>

    <table class="table table-striped">
        <thead class="thead-light">
            <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Country</th>
                <th>City</th>
                <th>Orders</th>
                <th>Details</th>
                <th>Edit</th>
                <th>Add role</th>
                <th>Delete</th>
            </tr>
        </thead>
        <tbody>
            @foreach (UserInListViewModel user in Model.Customers)
            {
                <tr>
                    <td>
                        @user.Name
                    </td>
                    <td>
                        @user.Email
                    </td>
                    <td>
                        @user.Country
                    </td>
                    <td>
                        @user.City
                    </td>
                    <td><a asp-action="ListOrdersForSpecificCustomer" asp-route-id="@user.UserId">@user.Orders</a></td>
                    <td>link details</td>
                    <td><a asp-action="EditUser" asp-route-id="@user.UserId">Edit</a></td>
                    <td><a asp-controller="Role" asp-action="AddAdminRole" asp-route-id="@user.UserId">Add Admin role</a></td>
                    <td>link delete</td>
                </tr>
            }
        </tbody>
    </table>
</div>